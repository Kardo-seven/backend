DROP TABLE IF EXISTS users CASCADE;
CREATE TABLE IF NOT EXISTS users (
    user_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email varchar(50) unique NOT NULL,
    password varchar(200) unique NOT NULL
);

DROP TABLE IF EXISTS authorities CASCADE;
CREATE TABLE IF NOT EXISTS authorities (
    user_id BIGINT REFERENCES users(user_id) ON DELETE CASCADE,
    authority varchar(20)
);

DROP TABLE IF EXISTS profile CASCADE;
CREATE TABLE IF NOT EXISTS profile (
    profile_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_name varchar(200),
    user_last_name varchar(200),
    phone varchar(200) unique,
    birthday DATE,
    gender varchar(20),
    country varchar(200),
    region varchar(200),
    city varchar(200),
    citizenship varchar(200),
    user_id BIGINT REFERENCES users(user_id) ON DELETE RESTRICT
)
